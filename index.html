<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>儿童性格特质测试小工具 | 科学育儿助手</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        :root {
            --primary: #4a6baf;
            --primary-light: #6a89cc;
            --primary-dark: #3a5490;
            --secondary: #ff9f43;
            --accent: #54a0ff;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --gray: #6c757d;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --radius: 12px;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 30px 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');
            background-size: cover;
        }
        
        h1 {
            font-size: 32px;
            margin-bottom: 10px;
            position: relative;
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto 15px;
            position: relative;
        }
        
        .header-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            position: relative;
        }
        
        .header-icon {
            background: rgba(255, 255, 255, 0.2);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .intro {
            padding: 30px;
            background-color: var(--light);
            border-bottom: 1px solid #eaeaea;
        }
        
        .intro-content {
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }
        
        .intro-icon {
            background: var(--primary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .intro-text {
            flex: 1;
        }
        
        .intro-text p {
            margin-bottom: 15px;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fff9db 0%, #fff3bf 100%);
            padding: 20px;
            border-radius: var(--radius);
            border-left: 5px solid var(--warning);
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .test-container {
            padding: 30px;
        }
        
        .progress-section {
            margin-bottom: 30px;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 5px;
        }
        
        .question {
            margin-bottom: 35px;
            padding: 25px;
            border-radius: var(--radius);
            background: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f3f4;
            transition: all 0.3s ease;
        }
        
        .question.active {
            border-color: var(--primary-light);
            box-shadow: 0 5px 15px rgba(74, 107, 175, 0.15);
        }
        
        .question-text {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--dark);
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .question-number {
            background: var(--primary);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .option {
            display: flex;
            align-items: flex-start;
            padding: 18px;
            border: 2px solid #eaeaea;
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.2s ease;
            background: white;
        }
        
        .option:hover {
            background-color: #f8f9fa;
            border-color: #ced4da;
            transform: translateY(-2px);
        }
        
        .option.selected {
            background-color: #e3f2fd;
            border-color: var(--primary);
            box-shadow: 0 4px 10px rgba(74, 107, 175, 0.2);
        }
        
        .option-letter {
            display: inline-block;
            width: 32px;
            height: 32px;
            background-color: #eaeaea;
            border-radius: 50%;
            text-align: center;
            line-height: 32px;
            margin-right: 15px;
            font-weight: bold;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }
        
        .option.selected .option-letter {
            background-color: var(--primary);
            color: white;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(74, 107, 175, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(74, 107, 175, 0.4);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn:disabled {
            background: #b8c2cc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 6px 20px rgba(108, 117, 125, 0.4);
        }
        
        .navigation {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .navigation .btn {
            flex: 1;
            margin-top: 0;
        }
        
        .result-container {
            padding: 30px;
            display: none;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .result-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 10px 25px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(74, 107, 175, 0.3);
        }
        
        .code-display {
            font-size: 42px;
            font-weight: bold;
            color: var(--primary);
            margin: 15px 0;
            letter-spacing: 8px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .type-name {
            font-size: 28px;
            color: var(--dark);
            margin-bottom: 10px;
        }
        
        .type-description {
            font-size: 18px;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }
        
        .dimensions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }
        
        .dimension {
            padding: 20px;
            border-radius: var(--radius);
            background: white;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f3f4;
            transition: all 0.3s ease;
        }
        
        .dimension:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .dimension-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .dimension-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-light);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 18px;
        }
        
        .dimension-title {
            font-weight: 600;
            font-size: 18px;
            color: var(--dark);
        }
        
        .dimension-value {
            color: var(--primary);
            font-weight: 600;
            font-size: 20px;
            margin: 10px 0;
        }
        
        .dimension-description {
            color: var(--gray);
            line-height: 1.5;
        }
        
        .advice-section {
            margin-top: 40px;
        }
        
        .section-title {
            font-size: 24px;
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: var(--primary);
        }
        
        .advice-content {
            background: white;
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f3f4;
        }
        
        .advice-category {
            margin-bottom: 25px;
        }
        
        .advice-category:last-child {
            margin-bottom: 0;
        }
        
        .advice-category-title {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .advice-category-title i {
            width: 30px;
            text-align: center;
        }
        
        .advice-list {
            padding-left: 20px;
        }
        
        .advice-list li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .personality-types {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .personality-type {
            padding: 20px;
            border-radius: var(--radius);
            background: white;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f3f4;
            transition: all 0.3s ease;
        }
        
        .personality-type:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .type-code {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .type-name-small {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 10px;
        }
        
        .type-traits {
            color: var(--gray);
            font-size: 14px;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            background: var(--light);
            color: var(--gray);
            border-top: 1px solid #eaeaea;
            font-size: 14px;
        }
        
        .footer-content {
            max-width: 700px;
            margin: 0 auto;
        }
        
        .scientific-basis {
            margin-top: 15px;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .options {
                grid-template-columns: 1fr;
            }
            
            .dimensions, .personality-types {
                grid-template-columns: 1fr;
            }
            
            .intro-content {
                flex-direction: column;
                text-align: center;
            }
            
            .code-display {
                font-size: 32px;
                letter-spacing: 5px;
            }
            
            h1 {
                font-size: 26px;
            }
        }
        
        .floating-shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
        }
        
        .shape-1 {
            width: 100px;
            height: 100px;
            background: var(--accent);
            top: -30px;
            right: 10%;
        }
        
        .shape-2 {
            width: 70px;
            height: 70px;
            background: var(--secondary);
            bottom: -20px;
            left: 5%;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="floating-shape shape-1"></div>
            <div class="floating-shape shape-2"></div>
            <h1>儿童性格特质测试小工具</h1>
            <p class="subtitle">基于儿童发展心理学，帮助父母了解孩子的天生气质，实现科学育儿与因材施教</p>
            <div class="header-icons">
                <div class="header-icon"><i class="fas fa-child"></i></div>
                <div class="header-icon"><i class="fas fa-brain"></i></div>
                <div class="header-icon"><i class="fas fa-heart"></i></div>
                <div class="header-icon"><i class="fas fa-star"></i></div>
            </div>
        </header>
        
        <div class="intro">
            <div class="intro-content">
                <div class="intro-icon">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="intro-text">
                    <p>亲爱的家长，欢迎使用儿童性格特质测试工具！每个孩子都是独一无二的，拥有与生俱来的气质特点。了解这些特点，能帮助您更好地理解孩子的行为、情绪和需求，从而实现更有效的沟通和教育。</p>
                    <p>本测试基于心理学中的"气质理论"和"人格类型理论"，通过观察孩子在日常生活中的自然表现，帮助您识别他的核心性格特质。</p>
                    
                    <div class="highlight">
                        <p><strong>测试说明：</strong>请根据您孩子<em>最自然、最习惯</em>的表现来回答以下问题。选择最贴近的选项。全部完成8个问题后，系统会生成详细的性格分析报告。</p>
                        <p><strong>重要提示：</strong>测试结果不是标签，而是帮助您理解孩子天性的工具。每个特质都有其优势，了解它们可以帮助您更好地支持孩子的成长。</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="test-container" id="testContainer">
            <div class="progress-section">
                <div class="progress-info">
                    <span>测试进度</span>
                    <span id="progressText">0/8</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
            </div>
            
            <div id="questionsContainer">
                <!-- 问题将通过JavaScript动态加载 -->
            </div>
            
            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" disabled><i class="fas fa-arrow-left"></i> 上一题</button>
                <button class="btn" id="nextBtn">下一题 <i class="fas fa-arrow-right"></i></button>
            </div>
            
            <button class="btn" id="submitBtn" style="display: none;">查看完整分析报告</button>
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="result-header">
                <div class="result-badge">性格分析报告</div>
                <div class="code-display" id="typeCode">ESFJ</div>
                <div class="type-name" id="typeName">热情体贴的小管家</div>
                <p class="type-description" id="typeDescription">您的孩子天生具有领导才能和关怀他人的品质，善于营造和谐的环境并维护传统价值</p>
            </div>
            
            <div class="dimensions" id="dimensionsContainer">
                <!-- 维度信息将通过JavaScript动态加载 -->
            </div>
            
            <div class="advice-section">
                <h2 class="section-title"><i class="fas fa-lightbulb"></i> 核心优势与成长引导</h2>
                <div class="advice-content" id="adviceContent">
                    <!-- 建议内容将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <div class="advice-section">
                <h2 class="section-title"><i class="fas fa-hands-helping"></i> 亲子互动建议</h2>
                <div class="advice-content">
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-comments"></i> 沟通方式</h3>
                        <ul class="advice-list" id="communicationAdvice">
                            <!-- 沟通建议将通过JavaScript动态加载 -->
                        </ul>
                    </div>
                    
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-book"></i> 学习支持</h3>
                        <ul class="advice-list" id="learningAdvice">
                            <!-- 学习建议将通过JavaScript动态加载 -->
                        </ul>
                    </div>
                    
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-users"></i> 社交发展</h3>
                        <ul class="advice-list" id="socialAdvice">
                            <!-- 社交建议将通过JavaScript动态加载 -->
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="advice-section">
                <h2 class="section-title"><i class="fas fa-shield-alt"></i> 潜在挑战与应对</h2>
                <div class="advice-content">
                    <div id="challengesContent">
                        <!-- 挑战内容将通过JavaScript动态加载 -->
                    </div>
                </div>
            </div>
            
            <div class="advice-section">
                <h2 class="section-title"><i class="fas fa-project-diagram"></i> 其他性格类型参考</h2>
                <div class="personality-types" id="personalityTypesContainer">
                    <!-- 其他性格类型将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <button class="btn" id="restartBtn"><i class="fas fa-redo"></i> 重新测试</button>
        </div>
        
        <footer>
            <div class="footer-content">
                <p>© 2023 儿童性格特质测试小工具 | 科学育儿助手</p>
                <p class="scientific-basis">本工具基于儿童发展心理学中的气质理论、荣格心理类型理论以及现代人格心理学研究设计，旨在帮助父母更好地理解孩子的天性，实现因材施教。</p>
            </div>
        </footer>
    </div>

    <script>
        // 测试问题数据
        const questions = [
            {
                id: 1,
                text: "在经过一天的幼儿园或外出游玩后，您的孩子通常更倾向于？",
                options: [
                    {
                        letter: "A",
                        text: "迫不及待地想和我们分享今天的趣事，看起来依然精力充沛。",
                        dimension: "E"
                    },
                    {
                        letter: "B",
                        text: "显得有些安静或疲惫，希望自己独处一会儿，比如看看书或玩会儿安静的玩具。",
                        dimension: "I"
                    }
                ]
            },
            {
                id: 2,
                text: "在学习新事物（如新玩具、新游戏）时，您的孩子通常？",
                options: [
                    {
                        letter: "A",
                        text: "立刻上手，通过触摸、摆弄、尝试来探索，是'动手派'。",
                        dimension: "S"
                    },
                    {
                        letter: "B",
                        text: "先仔细观察，可能会问很多问题，或者联想到其他事情，是'观察与想象派'。",
                        dimension: "N"
                    }
                ]
            },
            {
                id: 3,
                text: "如果心爱的玩具被其他小朋友不小心弄坏了，您孩子的第一反应更接近？",
                options: [
                    {
                        letter: "A",
                        text: "会非常生气或伤心，情绪反应强烈，需要情感上的安抚（如拥抱、共情）。",
                        dimension: "F"
                    },
                    {
                        letter: "B",
                        text: "可能会先问'你为什么把它弄坏？'，更关注'事情是怎么发生的'和'如何修复'。",
                        dimension: "T"
                    }
                ]
            },
            {
                id: 4,
                text: "对于周末的计划，您的孩子更倾向于？",
                options: [
                    {
                        letter: "A",
                        text: "喜欢知道明确的安排，例如'我们上午去公园，下午去看外婆'，规律性能让他安心。",
                        dimension: "J"
                    },
                    {
                        letter: "B",
                        text: "对'惊喜'接受度很高，觉得'我们随便逛逛，发现点什么好玩的'更有趣。",
                        dimension: "P"
                    }
                ]
            },
            {
                id: 5,
                text: "在游乐场遇到新朋友时，您的孩子通常？",
                options: [
                    {
                        letter: "A",
                        text: "能比较快地主动加入，或者容易被其他孩子接纳一起玩。",
                        dimension: "E"
                    },
                    {
                        letter: "B",
                        text: "通常会先在一旁观察，需要一些时间热身，或者更喜欢和一两个熟悉的朋友玩。",
                        dimension: "I"
                    }
                ]
            },
            {
                id: 6,
                text: "当您给孩子读一个绘本时，他/她更感兴趣的是？",
                options: [
                    {
                        letter: "A",
                        text: "绘本里具体的角色、情节和细节图画。'这个小狗穿了什么颜色的衣服？'",
                        dimension: "S"
                    },
                    {
                        letter: "B",
                        text: "故事背后的含义、想象接下来的发展。'为什么大灰狼要这样做？如果小猪有超能力会怎么样？'",
                        dimension: "N"
                    }
                ]
            },
            {
                id: 7,
                text: "您孩子的生活习惯（如吃饭、睡觉、洗漱）更倾向于？",
                options: [
                    {
                        letter: "A",
                        text: "有比较固定的节奏，到时间点会自然期待做相应的事。",
                        dimension: "J"
                    },
                    {
                        letter: "B",
                        text: "弹性较大，容易因其他有趣的事情而改变或延迟。",
                        dimension: "P"
                    }
                ]
            },
            {
                id: 8,
                text: "当孩子和朋友们玩游戏时，他/她最在意的是？",
                options: [
                    {
                        letter: "A",
                        text: "大家玩得开不开心，关系和不和谐，是否每个人都参与了。",
                        dimension: "F"
                    },
                    {
                        letter: "B",
                        text: "游戏规则是否公平，谁赢了谁输了，事情做得'对不对'。",
                        dimension: "T"
                    }
                ]
            }
        ];

        // 性格类型描述
        const personalityTypes = {
            "ESFJ": {
                name: "热情体贴的小管家",
                description: "您的孩子天生具有领导才能和关怀他人的品质，善于营造和谐的环境并维护传统价值",
                dimensions: [
                    { 
                        title: "能量来源", 
                        value: "外部世界 (E)", 
                        description: "从与人互动中获得能量，喜欢社交活动，在人群中感到充满活力",
                        icon: "fas fa-users"
                    },
                    { 
                        title: "学习风格", 
                        value: "实感型 (S)", 
                        description: "通过具体实践和体验学习，关注现实和细节，喜欢动手操作",
                        icon: "fas fa-hands"
                    },
                    { 
                        title: "决策方式", 
                        value: "情感型 (F)", 
                        description: "优先考虑情感和人际关系，重视和谐，善于体察他人感受",
                        icon: "fas fa-heart"
                    },
                    { 
                        title: "生活节奏", 
                        value: "计划型 (J)", 
                        description: "喜欢有规律和计划的生活，做事有条理，注重秩序和责任感",
                        icon: "fas fa-calendar-check"
                    }
                ],
                advice: {
                    strengths: "友善、有同情心、务实、负责任、乐于助人、善于沟通、组织能力强。",
                    encouragement: "多给他组织社交活动的机会，表扬他的体贴和责任感，让他参与家庭决策。",
                    support: "当他情绪受挫时，给予充分的情感接纳和共情，帮助他表达自己的感受。",
                    guidance: "教他学会在照顾他人感受和满足自我需求之间取得平衡；可以适当引入一些计划外的小惊喜，锻炼他的灵活性。"
                },
                communication: [
                    "使用温暖、鼓励的语言，重视情感交流",
                    "明确表达欣赏和认可，他们非常需要正面反馈",
                    "讨论具体、实际的事情，避免过于抽象的概念",
                    "给予他们为家庭做贡献的机会，并表示感谢"
                ],
                learning: [
                    "提供实践和动手学习的机会",
                    "将学习与真实生活场景联系起来",
                    "鼓励小组学习和合作项目",
                    "建立明确的学习计划和目标"
                ],
                social: [
                    "提供丰富的社交机会，但也要尊重他们需要独处的时间",
                    "教导他们如何设立健康的界限",
                    "鼓励他们发展广泛的兴趣，而不仅仅是关注人际关系",
                    "帮助他们学会处理冲突和不同意见"
                ],
                challenges: [
                    "可能过度关注他人评价，需要帮助建立自我价值感",
                    "可能难以应对变化和不确定性，需要逐步培养灵活性",
                    "可能忽视自己的需求，需要学习自我关怀",
                    "可能过于传统保守，需要接触多元观点"
                ]
            },
            "ISFP": {
                name: "温柔敏感的小艺术家",
                description: "您的孩子内心世界丰富，对美有独特的感知，注重个人价值和平和的环境",
                dimensions: [
                    { 
                        title: "能量来源", 
                        value: "内心世界 (I)", 
                        description: "从独处和安静环境中获得能量，喜欢深度交流胜过广泛社交",
                        icon: "fas fa-leaf"
                    },
                    { 
                        title: "学习风格", 
                        value: "实感型 (S)", 
                        description: "通过具体实践和体验学习，关注现实和细节，喜欢动手操作",
                        icon: "fas fa-hands"
                    },
                    { 
                        title: "决策方式", 
                        value: "情感型 (F)", 
                        description: "优先考虑情感和人际关系，重视和谐，善于体察他人感受",
                        icon: "fas fa-heart"
                    },
                    { 
                        title: "生活节奏", 
                        value: "灵活型 (P)", 
                        description: "喜欢随性和自由的生活，适应性强，享受探索过程",
                        icon: "fas fa-compass"
                    }
                ],
                advice: {
                    strengths: "温柔、有艺术天赋、善解人意、注重个人价值、适应力强。",
                    encouragement: "提供丰富的艺术材料和创作机会，鼓励他用艺术表达情感。",
                    support: "尊重他的个人空间和情感节奏，不要强迫他快速做决定。",
                    guidance: "帮助他将大任务分解成小步骤，避免因追求完美而拖延。"
                },
                communication: [
                    "使用温和、非对抗性的沟通方式",
                    "给予他们时间思考和回应，不要催促",
                    "通过艺术、音乐等非语言方式表达理解和接纳",
                    "尊重他们的个人空间和隐私"
                ],
                learning: [
                    "提供丰富的感官体验和实践机会",
                    "将学习与艺术、美学元素结合",
                    "允许他们按照自己的节奏学习",
                    "创造安静、舒适的学习环境"
                ],
                social: [
                    "尊重他们对独处时间的需求",
                    "鼓励小范围、深度的友谊",
                    "提供低压力的社交环境",
                    "帮助他们学会表达自己的需求和界限"
                ],
                challenges: [
                    "可能避免冲突，需要学习健康表达不同意见",
                    "可能拖延做决定，需要帮助建立决策框架",
                    "可能过于自我批评，需要培养自我接纳",
                    "可能难以应对高压环境，需要学习压力管理"
                ]
            },
            "ENTP": {
                name: "好奇聪慧的小发明家",
                description: "您的孩子思维敏捷，充满创意，喜欢挑战传统观念，探索新的可能性",
                dimensions: [
                    { 
                        title: "能量来源", 
                        value: "外部世界 (E)", 
                        description: "从与人互动中获得能量，喜欢社交活动，在人群中感到充满活力",
                        icon: "fas fa-users"
                    },
                    { 
                        title: "学习风格", 
                        value: "直觉型 (N)", 
                        description: "通过联想和想象学习，关注模式和可能性，喜欢理论概念",
                        icon: "fas fa-lightbulb"
                    },
                    { 
                        title: "决策方式", 
                        value: "思维型 (T)", 
                        description: "优先考虑逻辑和公平，重视客观分析，善于解决问题",
                        icon: "fas fa-cogs"
                    },
                    { 
                        title: "生活节奏", 
                        value: "灵活型 (P)", 
                        description: "喜欢随性和自由的生活，适应性强，享受探索过程",
                        icon: "fas fa-compass"
                    }
                ],
                advice: {
                    strengths: "创意无限、头脑敏捷、喜欢挑战、适应力强、善于辩论。",
                    encouragement: "多和他进行头脑风暴，满足他的求知欲，提供丰富的学习资源。",
                    support: "鼓励他将创意付诸实践，欣赏他的创新思维，即使想法不切实际。",
                    guidance: "在规则上，需要耐心解释'为什么'，而非简单命令；帮助他学会坚持完成项目。"
                },
                communication: [
                    "使用逻辑和理性的讨论方式",
                    "鼓励他们表达创意想法，即使不切实际",
                    "准备好回答无数个'为什么'问题",
                    "尊重他们的辩论精神，但设定合理界限"
                ],
                learning: [
                    "提供探索和实验的机会",
                    "鼓励他们质疑和挑战传统观念",
                    "将学习与解决问题联系起来",
                    "允许他们自主选择学习项目"
                ],
                social: [
                    "提供与智力相当的朋友交流的机会",
                    "鼓励他们参与辩论和讨论活动",
                    "教导他们考虑他人的情感需求",
                    "帮助他们发展倾听和共情技能"
                ],
                challenges: [
                    "可能缺乏执行力，需要学习项目完成技巧",
                    "可能过于争论，需要学习尊重不同观点",
                    "可能忽视细节，需要培养细致观察能力",
                    "可能缺乏耐心，需要学习坚持和专注"
                ]
            },
            "INFJ": {
                name: "富有远见的小哲学家",
                description: "您的孩子思想深刻，富有同情心，追求意义和价值，能够洞察他人需求",
                dimensions: [
                    { 
                        title: "能量来源", 
                        value: "内心世界 (I)", 
                        description: "从独处和安静环境中获得能量，喜欢深度交流胜过广泛社交",
                        icon: "fas fa-leaf"
                    },
                    { 
                        title: "学习风格", 
                        value: "直觉型 (N)", 
                        description: "通过联想和想象学习，关注模式和可能性，喜欢理论概念",
                        icon: "fas fa-lightbulb"
                    },
                    { 
                        title: "决策方式", 
                        value: "情感型 (F)", 
                        description: "优先考虑情感和人际关系，重视和谐，善于体察他人感受",
                        icon: "fas fa-heart"
                    },
                    { 
                        title: "生活节奏", 
                        value: "计划型 (J)", 
                        description: "喜欢有规律和计划的生活，做事有条理，注重秩序和责任感",
                        icon: "fas fa-calendar-check"
                    }
                ],
                advice: {
                    strengths: "深刻、有洞察力、理想主义、富有同情心、坚持原则。",
                    encouragement: "尊重他的独处时间，鼓励他用写作或艺术表达内心想法。",
                    support: "认真对待他的深刻问题和担忧，即使它们看起来不切实际。",
                    guidance: "帮助他将宏大的理想分解为可行的小步骤，鼓励他与现实世界保持联系。"
                },
                communication: [
                    "使用深刻、有意义的对话",
                    "尊重他们对隐私和个人空间的需求",
                    "认真倾听他们的想法和感受",
                    "讨论抽象概念和未来可能性"
                ],
                learning: [
                    "提供探索深层意义和价值观的机会",
                    "鼓励他们通过写作、艺术表达想法",
                    "将学习与个人成长和意义联系起来",
                    "提供安静、不受干扰的学习环境"
                ],
                social: [
                    "尊重他们对深度友谊的偏好",
                    "提供小范围、有意义的社交机会",
                    "鼓励他们参与志愿服务和公益活动",
                    "帮助他们设立健康的情感界限"
                ],
                challenges: [
                    "可能过于理想主义，需要学习接受现实局限",
                    "可能过度内省，需要学习活在当下",
                    "可能难以表达需求，需要学习自我倡导",
                    "可能容易情感耗竭，需要学习自我照顾"
                ]
            }
        };

        // 初始化应用
        document.addEventListener('DOMContentLoaded', function() {
            const questionsContainer = document.getElementById('questionsContainer');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            const testContainer = document.getElementById('testContainer');
            const resultContainer = document.getElementById('resultContainer');
            const restartBtn = document.getElementById('restartBtn');
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            let currentQuestion = 0;
            let userAnswers = {};
            
            // 渲染问题
            function renderQuestions() {
                questionsContainer.innerHTML = '';
                
                questions.forEach((question, index) => {
                    const questionElement = document.createElement('div');
                    questionElement.className = `question ${index === currentQuestion ? 'active' : ''}`;
                    questionElement.id = `question-${question.id}`;
                    questionElement.style.display = index === currentQuestion ? 'block' : 'none';
                    
                    let optionsHTML = '';
                    question.options.forEach(option => {
                        const isSelected = userAnswers[question.id] === option.dimension;
                        optionsHTML += `
                            <div class="option ${isSelected ? 'selected' : ''}" data-question="${question.id}" data-dimension="${option.dimension}">
                                <span class="option-letter">${option.letter}</span>
                                <span class="option-text">${option.text}</span>
                            </div>
                        `;
                    });
                    
                    questionElement.innerHTML = `
                        <div class="question-text">
                            <span class="question-number">${question.id}</span>
                            <span>${question.text}</span>
                        </div>
                        <div class="options">${optionsHTML}</div>
                    `;
                    
                    questionsContainer.appendChild(questionElement);
                });
                
                updateNavigation();
                updateProgress();
            }
            
            // 更新进度条
            function updateProgress() {
                const answeredCount = Object.keys(userAnswers).length;
                const progress = (answeredCount / questions.length) * 100;
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${answeredCount}/${questions.length}`;
                
                // 显示/隐藏提交按钮
                submitBtn.style.display = answeredCount === questions.length ? 'block' : 'none';
            }
            
            // 更新导航按钮状态
            function updateNavigation() {
                prevBtn.disabled = currentQuestion === 0;
                nextBtn.disabled = currentQuestion === questions.length - 1;
                
                if (currentQuestion === questions.length - 1) {
                    nextBtn.style.display = 'none';
                } else {
                    nextBtn.style.display = 'block';
                }
            }
            
            // 选项点击事件
            questionsContainer.addEventListener('click', function(e) {
                if (e.target.closest('.option')) {
                    const option = e.target.closest('.option');
                    const questionId = option.getAttribute('data-question');
                    const dimension = option.getAttribute('data-dimension');
                    
                    // 移除同一问题的其他选项的选中状态
                    const questionElement = document.getElementById(`question-${questionId}`);
                    questionElement.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // 设置当前选项为选中状态
                    option.classList.add('selected');
                    
                    // 保存答案
                    userAnswers[questionId] = dimension;
                    
                    // 更新进度
                    updateProgress();
                }
            });
            
            // 上一题按钮事件
            prevBtn.addEventListener('click', function() {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    renderQuestions();
                }
            });
            
            // 下一题按钮事件
            nextBtn.addEventListener('click', function() {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    renderQuestions();
                }
            });
            
            // 提交按钮事件
            submitBtn.addEventListener('click', function() {
                // 计算性格类型
                const dimensionCounts = {
                    'E': 0, 'I': 0,
                    'S': 0, 'N': 0,
                    'F': 0, 'T': 0,
                    'J': 0, 'P': 0
                };
                
                // 统计各维度的选择次数
                Object.values(userAnswers).forEach(dimension => {
                    dimensionCounts[dimension]++;
                });
                
                // 确定性格类型代码
                const energy = dimensionCounts['E'] >= dimensionCounts['I'] ? 'E' : 'I';
                const learning = dimensionCounts['S'] >= dimensionCounts['N'] ? 'S' : 'N';
                const decision = dimensionCounts['F'] >= dimensionCounts['T'] ? 'F' : 'T';
                const lifestyle = dimensionCounts['J'] >= dimensionCounts['P'] ? 'J' : 'P';
                
                const typeCode = energy + learning + decision + lifestyle;
                
                // 显示结果
                showResults(typeCode);
            });
            
            // 重新测试按钮事件
            restartBtn.addEventListener('click', function() {
                // 重置答案和当前问题
                userAnswers = {};
                currentQuestion = 0;
                
                // 更新进度
                updateProgress();
                
                // 重新渲染问题
                renderQuestions();
                
                // 切换显示测试和结果容器
                testContainer.style.display = 'block';
                resultContainer.style.display = 'none';
                
                // 滚动到顶部
                window.scrollTo(0, 0);
            });
            
            // 显示结果
            function showResults(typeCode) {
                // 获取性格类型信息
                const typeInfo = personalityTypes[typeCode] || getDefaultTypeInfo(typeCode);
                
                // 更新类型代码和名称
                document.getElementById('typeCode').textContent = typeCode;
                document.getElementById('typeName').textContent = typeInfo.name;
                document.getElementById('typeDescription').textContent = typeInfo.description;
                
                // 更新维度信息
                const dimensionsContainer = document.getElementById('dimensionsContainer');
                dimensionsContainer.innerHTML = '';
                
                typeInfo.dimensions.forEach(dimension => {
                    const dimensionElement = document.createElement('div');
                    dimensionElement.className = 'dimension fade-in';
                    dimensionElement.innerHTML = `
                        <div class="dimension-header">
                            <div class="dimension-icon">
                                <i class="${dimension.icon}"></i>
                            </div>
                            <div class="dimension-title">${dimension.title}</div>
                        </div>
                        <div class="dimension-value">${dimension.value}</div>
                        <div class="dimension-description">${dimension.description}</div>
                    `;
                    dimensionsContainer.appendChild(dimensionElement);
                });
                
                // 更新建议内容
                const adviceContent = document.getElementById('adviceContent');
                adviceContent.innerHTML = `
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-star"></i> 核心优势</h3>
                        <p>${typeInfo.advice.strengths}</p>
                    </div>
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-bullhorn"></i> 鼓励方式</h3>
                        <p>${typeInfo.advice.encouragement}</p>
                    </div>
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-hands"></i> 支持方式</h3>
                        <p>${typeInfo.advice.support}</p>
                    </div>
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-seedling"></i> 成长引导</h3>
                        <p>${typeInfo.advice.guidance}</p>
                    </div>
                `;
                
                // 更新沟通建议
                const communicationAdvice = document.getElementById('communicationAdvice');
                communicationAdvice.innerHTML = typeInfo.communication.map(item => `<li>${item}</li>`).join('');
                
                // 更新学习建议
                const learningAdvice = document.getElementById('learningAdvice');
                learningAdvice.innerHTML = typeInfo.learning.map(item => `<li>${item}</li>`).join('');
                
                // 更新社交建议
                const socialAdvice = document.getElementById('socialAdvice');
                socialAdvice.innerHTML = typeInfo.social.map(item => `<li>${item}</li>`).join('');
                
                // 更新挑战内容
                const challengesContent = document.getElementById('challengesContent');
                challengesContent.innerHTML = `
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-exclamation-triangle"></i> 潜在挑战</h3>
                        <ul class="advice-list">
                            ${typeInfo.challenges.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                    <div class="advice-category">
                        <h3 class="advice-category-title"><i class="fas fa-tools"></i> 应对策略</h3>
                        <p>当面对这些挑战时，请保持耐心和理解。记住，每个特质都有其两面性，所谓挑战往往是优势的过度表现。通过温和的引导和适当的界限，可以帮助孩子平衡发展。</p>
                    </div>
                `;
                
                // 更新其他性格类型
                const personalityTypesContainer = document.getElementById('personalityTypesContainer');
                personalityTypesContainer.innerHTML = '';
                
                Object.entries(personalityTypes).forEach(([code, info]) => {
                    if (code !== typeCode) {
                        const typeElement = document.createElement('div');
                        typeElement.className = 'personality-type';
                        typeElement.innerHTML = `
                            <div class="type-code">${code}</div>
                            <div class="type-name-small">${info.name}</div>
                            <div class="type-traits">${info.description}</div>
                        `;
                        personalityTypesContainer.appendChild(typeElement);
                    }
                });
                
                // 切换显示测试和结果容器
                testContainer.style.display = 'none';
                resultContainer.style.display = 'block';
                
                // 滚动到顶部
                window.scrollTo(0, 0);
            }
            
            // 获取默认类型信息（如果预定义类型不存在）
            function getDefaultTypeInfo(typeCode) {
                const energy = typeCode[0] === 'E' ? 
                    { 
                        value: "外部世界 (E)", 
                        description: "从与人互动中获得能量，喜欢社交活动，在人群中感到充满活力",
                        icon: "fas fa-users"
                    } : 
                    { 
                        value: "内心世界 (I)", 
                        description: "从独处和安静环境中获得能量，喜欢深度交流胜过广泛社交",
                        icon: "fas fa-leaf"
                    };
                
                const learning = typeCode[1] === 'S' ? 
                    { 
                        value: "实感型 (S)", 
                        description: "通过具体实践和体验学习，关注现实和细节，喜欢动手操作",
                        icon: "fas fa-hands"
                    } : 
                    { 
                        value: "直觉型 (N)", 
                        description: "通过联想和想象学习，关注模式和可能性，喜欢理论概念",
                        icon: "fas fa-lightbulb"
                    };
                
                const decision = typeCode[2] === 'F' ? 
                    { 
                        value: "情感型 (F)", 
                        description: "优先考虑情感和人际关系，重视和谐，善于体察他人感受",
                        icon: "fas fa-heart"
                    } : 
                    { 
                        value: "思维型 (T)", 
                        description: "优先考虑逻辑和公平，重视客观分析，善于解决问题",
                        icon: "fas fa-cogs"
                    };
                
                const lifestyle = typeCode[3] === 'J' ? 
                    { 
                        value: "计划型 (J)", 
                        description: "喜欢有规律和计划的生活，做事有条理，注重秩序和责任感",
                        icon: "fas fa-calendar-check"
                    } : 
                    { 
                        value: "灵活型 (P)", 
                        description: "喜欢随性和自由的生活，适应性强，享受探索过程",
                        icon: "fas fa-compass"
                    };
                
                return {
                    name: "独特的小探索者",
                    description: "您的孩子拥有独特的性格组合，既有外向的活力又有内向的深度，既注重现实又富有想象力",
                    dimensions: [
                        { title: "能量来源", ...energy },
                        { title: "学习风格", ...learning },
                        { title: "决策方式", ...decision },
                        { title: "生活节奏", ...lifestyle }
                    ],
                    advice: {
                        strengths: "您的孩子拥有独特的性格组合，既有外向的活力又有内向的深度，既注重现实又富有想象力，既考虑情感又重视逻辑。",
                        encouragement: "观察并欣赏孩子的独特之处，提供多元化的成长环境，让他在不同情境下发挥优势。",
                        support: "根据他在不同情境下的需求，灵活调整您的支持方式，既给予独立空间又提供必要指导。",
                        guidance: "帮助孩子平衡不同性格特质，在发挥优势的同时，适当发展相对较弱的方面，培养全面发展的能力。"
                    },
                    communication: [
                        "采用灵活多样的沟通方式，适应孩子不同状态下的需求",
                        "既给予独立思考空间，又提供必要的情感支持",
                        "尊重孩子的独特性，避免简单比较或标签化",
                        "鼓励表达多元观点，培养批判性思维"
                    ],
                    learning: [
                        "提供多样化的学习方式，兼顾实践和理论",
                        "创造既结构化又自由探索的学习环境",
                        "鼓励跨学科学习，连接不同领域的知识",
                        "培养自主学习能力，同时提供必要指导"
                    ],
                    social: [
                        "尊重孩子在社交中的不同需求，既提供机会又给予空间",
                        "帮助孩子发展多样化的社交技能",
                        "鼓励与不同性格的朋友交往，拓展视野",
                        "教导平衡个人需求与他人期望"
                    ],
                    challenges: [
                        "可能在两极特质间摇摆，需要帮助找到平衡点",
                        "可能感到不被理解，需要确认独特价值的认可",
                        "可能面临决策困难，需要学习权衡不同因素",
                        "可能在不同情境下适应挑战，需要培养情境灵活性"
                    ]
                };
            }
            
            // 初始渲染问题
            renderQuestions();
        });
    </script>
</body>
</html>